# chapter 08 경계간 매핑하

## '매핑하지 않기' 전략
- 모든 계층이 정확히 같은 구조의, 정확히 같은 정보를 필요로 한다면 '매핑하지 않기' 전략은 완벽한 선택지다.
- 어떤 매핑 전략을 선택했더라도 나중에 언제든 바꿀 수 있다는 것이다.

## '양방향' 매핑 전략
- 각 계층이 전용 모델을 가지고 있는 덕분에 각 계층이 전용 모델을 변경하더라도 다른 계층에는 영향이 없다.
- 이 매핑 전략은 웹이나 영속성 관심사로 오염되지 않은 깨끗한 도메인 모델로 이어진다.
- '매핑하지 않기' 전략과 마찬가지로 '양방향' 매핑 전략도 은총알이 아니다.
- 어떤 매핑 전략도 철칙처럼 여겨져서는 안 된다. 그 대신 각 유스케이스마다 적절한 전략을 선택할 수 있어야 한다.

## '완전' 매핑 전략
- 한 계층을 다른 여러 개의 커맨드로 매핑하는 데는 하나의 웹 모델과 도메인 모델 간의 매핑보다 더 많은 코드가 필요하다. 하지만 이렇게 매핑하면 여러 유스케이스의 요구사항을 함께 다뤄야 하는 매핑에 비해 구현하고 유지보수하기가 훨씬 쉽다.

## '단방향' 매핑 전략
- 만약 한 계층이 다른 계층으로부터 객체를 받으면 해당 계층에서 이용할 수 있도록 다른 무언가로 매핑하는 것이다. 그러므로 각 계층은 한방향으로만 매핑한다. 그래서 이 전략의 이름은 '단방향' 매핑 전략인 것이다.

## 언제 어떤 매핑 전략을 사용할 것인가?
- 이 질문의 답은, 평범하고 불만족스럽게도 '그때그때 다르다'이다.
- 소프트웨어는 시간이 지나며 변화를 거듭하기 때문에, 어제는 최선이었던 전략이 오늘은 최선이 아닐 수 있다.

## 유지보수 가능한 소프트웨어를 만드는 데 어떻게 도움이 될까?
- 상황별로 매핑 전략을 선택하는 것은 모든 상황에 같은 매핑 전략을 사용하는 것보다 분명 더 어렵고 더 많은 커뮤니케이션을 필요로 하겠지만 매핑 가이드라인이 있는 한, 코드가 정확히 해야 하는 일만 수행하면서도 더 유지보수하기 쉬운 코드로 팀에 보상이 되어 돌아올 것이다.


