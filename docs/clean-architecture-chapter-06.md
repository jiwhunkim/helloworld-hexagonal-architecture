# chapter 06 영속성 어댑터 구현하기

## 의존성 역전
- 육각형 아키텍처에서 영속성 어댑터는 '주도되는' 혹은 '아웃고잉' 어댑터다. 애플리케이션에  의해 호출될 뿐, 애플리케이션을 호출하지는 않기 때문이다.

## 영속성 어댑터의 책임
- 핵심은 영속성 어댑터의 입력 모델이 영속성 내부에 있는 것이 아니라 애플리케이션 코어에 있기 때문에 영속성 어댑터 내부를 변경하는 것이 코어에 영향을 미치지 않는다는 것이다.

## 포트 인터페이스 나누기
- 클라이언트가 오로지 자신이 필요로하는 메서ㅡ만 알면 되도록 넓은 인터페이스를 특화된 인터페이스로 분리해야 한다고 설명한다.

## 영속성 어댑터 나누기
- 도메인 코드는 영속성 포트에 의해 정의된 명세를 어떤 클래스가 충족시키는지에 관심없다는 사실을 기억하자. 모든 포트가 구현돼 있기만 한다면 영속성 계층에서 하고 싶은 어떤 작업이든 해도 되나.

## 데이터베이스 트랜잭션은 어떻게 해야 할까?
- 트랜잭션은 하나의 특정한 유스케이스에 대해서 일어나는 모든 쓰기 작업에 걸쳐 있어야 한다. 그래야 그중 하나라도 실패할 경우 다 같이 롤백될 수 있기 때문이다.

## 유지보수 가능한 소프트웨어를 만드는데 어떻게 도움이 될가?
- 도메인 코드에 플러그인처럼 동작하는 영속성 어댑터를 만들면 도메인 코드가 영속성과 관련된 것들로부터 분리되어 풍부한 도메인 모델을 만들 수 있다.
